import{_ as n,V as s,W as a,a0 as t}from"./framework-8fd515d9.js";const p="/assets/image/mpl/twinx/1677606198017.png",e={},o=t(`<h1 id="画双-y-轴图" tabindex="-1"><a class="header-anchor" href="#画双-y-轴图" aria-hidden="true">#</a> 画双 y 轴图</h1><p>使用 <code>plt.subplots()</code> 和 <code>twinx()</code> 实现。高亮行替换为需要的数据系列。</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np

<span class="token comment"># 生成一些随机数据</span>
train_loss <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>rand<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
val_loss <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>rand<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
score_history <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>rand<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100</span>

<span class="token comment"># 创建一个带有两个 y 轴的图形</span>
fig<span class="token punctuation">,</span> ax1 <span class="token operator">=</span> plt<span class="token punctuation">.</span>subplots<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 在左侧 y 轴上绘制 train_loss 和 val_loss 的线图</span>
ax1<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>train_loss<span class="token punctuation">,</span> label<span class="token operator">=</span><span class="token string">&#39;train_loss&#39;</span><span class="token punctuation">)</span>
ax1<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>val_loss<span class="token punctuation">,</span> label<span class="token operator">=</span><span class="token string">&#39;val_loss&#39;</span><span class="token punctuation">)</span>
ax1<span class="token punctuation">.</span>set_xlabel<span class="token punctuation">(</span><span class="token string">&#39;Epoch&#39;</span><span class="token punctuation">)</span>  <span class="token comment"># x 轴标签</span>
ax1<span class="token punctuation">.</span>set_ylabel<span class="token punctuation">(</span><span class="token string">&#39;Loss&#39;</span><span class="token punctuation">)</span>  <span class="token comment"># 左侧 y 轴标签</span>
ax1<span class="token punctuation">.</span>tick_params<span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token string">&#39;y&#39;</span><span class="token punctuation">)</span>  <span class="token comment"># 设置左侧 y 轴的刻度</span>
ax1<span class="token punctuation">.</span>legend<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 绘制图例</span>

<span class="token comment"># 创建一个右侧 y 轴</span>
ax2 <span class="token operator">=</span> ax1<span class="token punctuation">.</span>twinx<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 在右侧 y 轴上绘制 score_history 的线图</span>
ax2<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>score_history<span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">&#39;red&#39;</span><span class="token punctuation">,</span> label<span class="token operator">=</span><span class="token string">&#39;score_history&#39;</span><span class="token punctuation">)</span>
ax2<span class="token punctuation">.</span>set_ylabel<span class="token punctuation">(</span><span class="token string">&#39;Score&#39;</span><span class="token punctuation">)</span>  <span class="token comment"># 右侧 y 轴标签</span>
ax2<span class="token punctuation">.</span>tick_params<span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token string">&#39;y&#39;</span><span class="token punctuation">,</span> labelcolor<span class="token operator">=</span><span class="token string">&#39;red&#39;</span><span class="token punctuation">)</span>  <span class="token comment"># 设置右侧 y 轴的刻度和标签颜色</span>
ax2<span class="token punctuation">.</span>legend<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 绘制图例</span>

<span class="token comment"># 显示图形</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlight-line"> </div><div class="highlight-line"> </div><br><br><br><br><br><br><br><br><br><div class="highlight-line"> </div><br><br><br><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="`+p+'" alt="例图" tabindex="0" loading="lazy"><figcaption>例图</figcaption></figure>',4),c=[o];function l(i,u){return s(),a("div",null,c)}const d=n(e,[["render",l],["__file","twinx.html.vue"]]);export{d as default};
